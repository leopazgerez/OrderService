package com.example.orderservice.controllers;

import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import io.swagger.v3.oas.annotations.Operation;

@RestController
@RequestMapping("orders")
public class OrderController {
    @Operation(summary = "Retrieve user by ID", description = "Fetches all products.")
    @GetMapping("/all")
    ResponseEntity<?> getAllProduct() {
        return ResponseEntity.ok(productService.getAllProducts());
    }

    @Operation(summary = "Retrieve user by ID", description = "Update product.")
    @PutMapping("/update")
//    agregar @Valid luego de testear
    ResponseEntity<?> updateProduct(@RequestBody ProductDTO productDTO, @PathVariable Long id) throws BadRequestException {
        return ResponseEntity.ok(productService.updateProduct(productDTO, id));
    }

    @Operation(summary = "Retrieve user by ID", description = "Create product.")
    @PostMapping("/create")
        //    agregar @Valid luego de testear
    ResponseEntity<?> createProduct( @RequestBody @Valid ProductDTO productDTO) throws BadRequestException {
        return ResponseEntity.ok(productService.createProduct(productDTO));
    }
}
